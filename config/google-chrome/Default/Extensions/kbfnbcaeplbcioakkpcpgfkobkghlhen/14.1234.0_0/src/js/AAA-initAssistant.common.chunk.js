(self.webpackChunk=self.webpackChunk||[]).push([[9513],{1316:(e,t,n)=>{if(n.d(t,{Q:()=>f,f:()=>w}),5526!=n.j)var o=n(84308);if(5526!=n.j)var i=n(954);if(5526!=n.j)var s=n(59179);if(5526!=n.j)var r=n(24666);var a=n(93413),c=n(29148);if(5526!=n.j)var l=n(99208);var d=n(86819);if(5526!=n.j)var u=n(88305);if(5526!=n.j)var _=n(45246);if(5526!=n.j)var h=n(45511);if(5526!=n.j)var g=n(12002);if(5526!=n.j)var p=n(21883);function m(){document.body.dataset.grAaaNotchConnectionId||(document.body.dataset.grAaaNotchConnectionId=`${Date.now()}-${Math.random()}`);const e=document.body.dataset.grAaaNotchConnectionId;return{toServer:`gr-fieldIntegration-to-aaaNotch-to-server-${e}`,toClient:`gr-fieldIntegration-to-aaaNotch-to-client-${e}`}}const f=e=>{const t=m();return new d.S((0,c.NH)(new a.E(self.document,t.toServer,t.toClient)),{setCheckingStatus:(t,n)=>{e.setCheckingStatus(n)},setTextFieldContent:(t,n)=>{e.setTextFieldContent(n)},setSelectedTextFromIntegration:(t,n)=>{e.setSelectedTextFromIntegration(n)}})};function w(e){if(!(0,g.kR)())return{dispose:u.EI};const t=(()=>{const e=m();return new l.X(new a.E(self.document,e.toClient,e.toServer))})(),n=[];return n.push((0,o.a)([e.checkingStatus,(0,_.qw)(e.textField).pipe((0,i.O)(!0))]).pipe(s.U((([e,t])=>t?e:null)),r.x()).subscribe((e=>{t.api.setCheckingStatus(e)}))),n.push(e.textObserver.contentChanges.async.pipe(s.U((e=>e.newText)),r.x()).subscribe((()=>{const n=e.textObserver.getCurrentTextMap(),o=(0,p.C)(n);t.api.setTextFieldContent(o)}))),n.push((0,h.b)(e.textObserver,e.selectionSource).subscribe((e=>{t.api.setSelectedTextFromIntegration(e)}))),{dispose:()=>{n.forEach((e=>e.unsubscribe())),t.api.setCheckingStatus(null),t.api.setSelectedTextFromIntegration(""),t.api.setTextFieldContent(""),t.dispose()}}}},45511:(e,t,n)=>{if(n.d(t,{b:()=>a}),5526!=n.j)var o=n(59179);if(5526!=n.j)var i=n(24666);if(5526!=n.j)var s=n(41048);if(5526!=n.j)var r=n(39363);function a(e,t){return t.data.behavior.pipe(o.U(r.Ls),i.x(((e,t)=>(null==e?void 0:e.start)===(null==t?void 0:t.start)&&(null==e?void 0:e.end)===(null==t?void 0:t.end))),o.U((t=>{if(!t||s.SV.isCollapsed(t))return"";return e.getTextSource().getPlainText().slice(t.start,t.end)})))}},87617:(e,t,n)=>{n.r(t),n.d(t,{initAssistant:()=>ge});var o,i=n(13391),s=n(45013);!function(e){e.toClient="cs-to-side-panel-to-client",e.toServer="cs-to-side-panel-to-server"}(o||(o={}));var r=n(99208);class a{constructor(e,t,n){this._messageService=e,this._customInboundEventName=t,this._customOutboundEventName=n,this.inbound={subscribe:e=>{const t=t=>{if(!function(e,t){if(!e||"object"!=typeof e)return!1;const n="type"in e&&e.type===t,o="message"in e;return n&&o}(t,this._customInboundEventName))return;const n=t.message;e&&("function"==typeof e?e(n):e.next&&e.next(n))};return this._messageService.on(t),{unsubscribe:()=>this._messageService.off(t)}}},this.outbound=e=>{const t={type:this._customOutboundEventName,message:e};this._messageService.sendMessage(t)}}}class c extends r.X{constructor(e){super(new a(e,o.toClient,o.toServer))}}var l=n(32082);function d(e){return e.nodeType===Node.ELEMENT_NODE}const u=["SCRIPT","STYLE","NOSCRIPT"],_=["style","role","title"];function h(e){return!u.includes(e.nodeName)}function g(e){return function(e){return e instanceof HTMLElement}(e)&&(e.checkVisibility()||function(e){return"contents"===self.getComputedStyle(e).display}(e))}function p(e={}){const{tag:t="div",role:n=null,text:o,title:i=null,attributes:s,children:r=[]}=e,a={tag:t,role:n,text:o,title:i,attributes:s,children:r},c=Object.entries(a).filter((([,e])=>Boolean(e)));return Object.fromEntries(c)}const m=new Set(["a","article","aside","button","details","dialog","figcaption","figure","footer","form","header","label","main","mark","nav","section","summary","time"]);function f(e,t={includeAttributes:!1}){const{includeAttributes:n}=t;if(!h(e)||"BODY"!==e.nodeName&&!g(e))return null;let o=p({tag:e.nodeName.toLocaleLowerCase(),role:d(e)?e.getAttribute("role"):null,title:d(e)?e.getAttribute("title"):null});if(n&&d(e)){const t=function(e){return Array.from(e.attributes).filter((e=>!_.includes(e.name)))}(e),n={};t.forEach((e=>{n[e.name]=e.value})),o={...o,attributes:n}}"TEXTAREA"===e.nodeName&&(o={...o,text:e.value});const{children:i,textCount:s,elementCount:r}=function(e,t){var n,o;let i=0,s=0;const r=[];for(const a of e.childNodes)if(a.nodeType===Node.TEXT_NODE)(null===(n=a.textContent)||void 0===n?void 0:n.trim())&&(r.push(p({tag:a.nodeName.toLocaleLowerCase(),text:null===(o=a.textContent)||void 0===o?void 0:o.trim()})),i+=1);else if(h(a)){const e=f(a,t);e&&(r.push(e),s+=1)}return{children:r,textCount:i,elementCount:s}}(e,t),a=m.has(o.tag),c="role"in o&&null!==o.role;return a||c||0!==s||1!==r?o.text||0!==i.length?{...o,children:i}:null:i[0]}class w{extractContext(e){const{logger:t=l.Y.create("assistant.context.extractor")}=e,n=function(e,t={}){const{includeAttributes:n=!1,logger:o}=t,i=performance.now(),s=f(e,{includeAttributes:n}),r=performance.now()-i;null==o||o.debug("converted JSON representation",s);const a=JSON.stringify(s);return null==o||o.debug("converted DOM to JSON",{content:a,size:(new TextEncoder).encode(a).length,duration:r}),{content:s,isCompressed:!1}}(e.document.body,{logger:t});return{kind:"default",origin:e.document.location.origin,title:e.document.title,root:n.content}}}class b{constructor(e){this._logger=l.Y.create("contextExtractorService"),this._textFieldContent=e.textFieldContent,this._document=e.document}getContext(e){let t="";this._textFieldContent&&(t=this._textFieldContent.get(),this._logger.debug(`Current text field text has ${t}`));const n=new w;this._logger.debug(`Extractor is instance of ${n.constructor.name}`);const o=n.extractContext({document:this._document});return this._logger.debug("Context extracted",o),{...o,textFieldContent:t}}}var C;!function(e){e.toClient="side-panel-to-cs-to-client",e.toServer="side-panel-to-cs-to-server"}(C||(C={}));var v=n(86819),x=n(31885),y=n(29148);class S{constructor(e){this._extractorService=e,this.publicApi={...(0,x.Z)({getContext:()=>this._extractorService.getContext("default")})}}}class E{constructor(e){this._messageApi=e}on(e){this._messageApi.onRuntimeMessage.addListener(e)}off(e){this._messageApi.onRuntimeMessage.removeListener(e)}sendMessage(e){return this._messageApi.sendRuntimeMessage(e)}}var T=n(1316),I=n(84714),k=n(84308),D=n(93440),F=n(20161),R=n(59179),N=n(36344),A=n(29417);function P(e,t,n){const o=i.h.create(void 0),r=i.h.create(void 0),a=function(e,t){(0,s.OB)().browserApi.sessionStorage.get(["isSidePanelOpen","alwaysOnAssistant"]).then((({isSidePanelOpen:n,alwaysOnAssistant:o})=>{void 0===e.get()&&e.set(!n),void 0===t.get()&&t.set(null==o?void 0:o.notchPosition)}));const n=(0,s.OB)().browserApi.sessionStorage.onChange((n=>{var o;e.set(!n.isSidePanelOpen),t.set(null===(o=n.alwaysOnAssistant)||void 0===o?void 0:o.notchPosition)}));return{dispose:()=>{n()}}}(o,r),c=o.pipe((0,F.w)((o=>o?function(e,t,n,o){return(0,k.a)([n,t,o]).pipe((0,F.w)((([t,n,o])=>{const i=t.trim().split(/\s+/).filter((e=>""!==e)).length>=30;const s=function(e,t){if(e===A.H.inProgress)return"processing";if(t.length>0)return"selected";return}(n,t);return e.set({alwaysVisible:!!n||i,iconType:s,selectedText:t,notchPosition:o}),n||!i?N.E:(0,D.H)(3e3).pipe((0,R.U)((()=>{e.set({alwaysVisible:!!n,iconType:s,selectedText:t,notchPosition:o})})))})))}(e,t,n,r):(e.set(void 0),(0,I.of)(void 0))))).subscribe();return{dispose:()=>{c.unsubscribe(),a.dispose()}}}var L=n(72848),G=n(11657),O=n(26585);class M{constructor(){this._felog=(0,O.Tb)()}assistantNotchInitialized(e){this._felog.sendFemetricsRate("assistantNotchInitialized",{domain:e})}assistantNotchShown(e,t){this._felog.sendFemetricsRate("assistantNotchShown",{assistantSessionId:e,domain:t})}assistantNotchCollapsed(e,t){this._felog.sendFemetricsRate("assistantNotchCollapsed",{assistantSessionId:e,domain:t})}assistantNotchClicked(e,t){this._felog.sendFemetricsRate("assistantNotchClicked",{assistantSessionId:e,domain:t})}}var B=n(33145);class V{assistantNotchShown(e,t){B.J.alwaysOnAssistantNotchPeek(t,e)}assistantNotchCollapsed(e){B.J.alwaysOnAssistantNotchPreviewCollapsed(e)}}class H{constructor(){this._feMetricsTrackingService=new M,this._gnarTrackingService=new V,this._commonLabels={assistantSessionId:"",domain:""}}assistantNotchInitialized(){const e=(0,G.Cg)();this._feMetricsTrackingService.assistantNotchInitialized(e)}assistantNotchShown(){const e=(0,L.Z)(),t=(0,G.Cg)();this._commonLabels={assistantSessionId:e,domain:t},this._feMetricsTrackingService.assistantNotchShown(e,t),this._gnarTrackingService.assistantNotchShown(e,t)}assistantNotchPeekingCollapsed(){this._feMetricsTrackingService.assistantNotchCollapsed(this._commonLabels.assistantSessionId,this._commonLabels.domain),this._gnarTrackingService.assistantNotchCollapsed(this._commonLabels.assistantSessionId)}assistantNotchClicked(){return this._feMetricsTrackingService.assistantNotchClicked(this._commonLabels.assistantSessionId,this._commonLabels.domain),this._commonLabels.assistantSessionId}dispose(){}}var j=n(44071),U=n(18827),z=n(24666);class W{constructor(e,t){this._selectedTextFromIntegration=t,this.selectedText=i.h.create(""),this.subs=[],this.subs.push(j.R(self,"mouseup").pipe(U.g(0),R.U((()=>{var e;return(null===(e=self.getSelection())||void 0===e?void 0:e.toString())||this._selectedTextFromIntegration.get()||""})),z.x()).subscribe((t=>{this.selectedText.set(t),e.onSelectionChanged(t)})))}dispose(){this.subs.forEach((e=>e.unsubscribe()))}}var q=n(49231),Y=n(88637),$=n(29037),X=n(25419),K=n(99304),J=n(19547),Q=n(47387),Z=n(67271),ee=n(62534),te=n.n(ee);function ne({accessibilityLabel:e}){const t=""===e;return q.createElement("svg",{width:"18",height:"18",viewBox:"0 0 18 18",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-label":e,"aria-hidden":t,"data-icon":"TextChecking"},q.createElement("path",{d:"M1 9.00027C1 4.5814 4.58107 1 9.0004 1C13.4197 1 17 4.5814 17 9.00027C17 12.8662 14.2591 16.0913 10.6138 16.8378C10.0929 16.9446 9.55335 17 9.00281 17H1V9.00027Z",fill:"#027E6F"}),q.createElement("circle",{className:te().dot1,cx:"6",cy:"9",r:"1",fill:"white"}),q.createElement("circle",{className:te().dot2,cx:"9",cy:"9",r:"1",fill:"white"}),q.createElement("circle",{className:te().dot3,cx:"12",cy:"9",r:"1",fill:"white"}))}function oe({accessibilityLabel:e}){const t=""===e;return q.createElement("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-label":e,"aria-hidden":t,"data-icon":"TextSelection"},q.createElement("rect",{width:"16",height:"16",rx:"4.8",fill:"#027E6F"}),q.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9.80035 14.001H11.6C12.9255 14.001 14 12.9265 14 11.601V9.79959H12.8V11.601C12.8 12.2637 12.2627 12.801 11.6 12.801H9.80035V14.001ZM3.2 9.79959V11.601C3.2 12.2637 3.73726 12.801 4.4 12.801H6.20035V14.001H4.4C3.07452 14.001 2 12.9265 2 11.601V9.79959H3.2ZM6.20035 3.20098H4.4C3.73726 3.20098 3.2 3.73823 3.2 4.40098V6.19959H2V4.40098C2 3.07549 3.07452 2.00098 4.4 2.00098H6.20035V3.20098ZM12.8 6.19959V4.40098C12.8 3.73823 12.2627 3.20098 11.6 3.20098H9.80035V2.00098H11.6C12.9255 2.00098 14 3.07549 14 4.40098V6.19959H12.8Z",fill:"white"}),q.createElement("path",{d:"M5.59961 6.39941H7.99961H10.3996M5.59961 9.59941H7.09961H8.79961",stroke:"white",strokeWidth:"1.2"}))}var ie,se=n(23934),re=n(37213);!function(e){e.hidden="hidden",e.peeking="peeking",e.shown="shown"}(ie||(ie={}));var ae=n(88030);const ce=({notchRef:e,isDragging:t,notchPosition:n})=>{const o=q.useRef(),i=q.useRef(),s=q.useRef(),[r,a]=q.useState(100);function c(){e.current&&(o.current=e.current.getBoundingClientRect())}return q.useEffect((()=>(self.addEventListener("resize",c),()=>self.removeEventListener("resize",c))),[]),q.useLayoutEffect((()=>{c()}),[e.current,n]),q.useEffect((()=>{const e=e=>{s.current&&clearTimeout(s.current),s.current=setTimeout((()=>{a(100)}),ae.m9(5)),i.current&&cancelAnimationFrame(i.current),i.current=requestAnimationFrame((()=>{if(o.current){const t=function(e,t){const n=Math.min(Math.abs(t.x-e.left),Math.abs(t.x-e.right)),o=Math.min(Math.abs(t.y-e.top),Math.abs(t.y-e.bottom));return Math.hypot(n,o)}(o.current,{x:e.clientX,y:e.clientY});if(t>400)return void a(100);a(50*(t/400)+50)}}))};return t?document.addEventListener("mouseup",c,{once:!0,capture:!0}):document.addEventListener("mousemove",e),()=>{document.removeEventListener("mousemove",e),i.current&&cancelAnimationFrame(i.current),s.current&&clearTimeout(s.current)}}),[t]),{hiddenPercent:r}};var le=n(66084);const de=({onClick:e,trackingService:t,alwaysVisible:n,icon:o=J.H,onDragEnd:i,notchPosition:s})=>{const[r,a]=q.useState(!1),c=q.useRef(null),[l,d]=q.useState(ie.peeking);q.useLayoutEffect((()=>{c.current&&s&&(c.current.style.setProperty("top",s.top),c.current.style.setProperty("bottom",s.bottom))}),[s]);const u=()=>{a(!0);const n=t.assistantNotchClicked();e(n)},{isDragging:_}=(({elementRef:e,onDragEnd:t,onClick:n})=>{const[o,i]=q.useState(!1);return q.useEffect((()=>{var o;let s=0,r=0,a=0,c=!0;const l=o=>{if(0===o.button){if(r=o.clientY,c=!0,e.current){const{top:t}=e.current.getBoundingClientRect();s=o.clientY-t}self.addEventListener("mousemove",d),self.addEventListener("mouseup",(()=>{if(i(!1),self.removeEventListener("mousemove",d),c)n();else{const n=e.current;if(!n)return;const o=n.style.getPropertyValue("top"),i=n.style.getPropertyValue("bottom");null==t||t({top:o,bottom:i})}}),{once:!0,capture:!0})}},d=t=>{Math.abs(t.clientY-r)>5&&(i(!0),c=!1),c||(a=requestAnimationFrame((()=>{const n=e.current;if(!n)return;const o=t.clientY-s,i=self.innerHeight-n.clientHeight,r=Math.min(Math.max(0,o),i),a=r/self.innerHeight*100;if(a<=50)n.style.setProperty("top",`calc(${a}%)`),n.style.setProperty("bottom","unset");else{const e=(self.innerHeight-r-n.clientHeight)/self.innerHeight*100;n.style.setProperty("bottom",`calc(${e}%)`),n.style.setProperty("top","unset")}})))};return null===(o=e.current)||void 0===o||o.addEventListener("mousedown",l),()=>{var t;null===(t=e.current)||void 0===t||t.removeEventListener("mousedown",l),a&&cancelAnimationFrame(a)}}),[]),{isDragging:o}})({elementRef:c,onClick:u,onDragEnd:i}),{hiddenPercent:h}=ce({notchRef:c,isDragging:_,notchPosition:s}),g={transform:`translateX(${h}%)`},p=n?ie.shown:function(e,t,n){if(n)return ie.shown;if(e===ie.peeking&&100===t)return ie.hidden;return e}(l,h,_);return q.createElement("div",{"data-testid":"assistant-notch",ref:c,...(0,re.Sh)(le.notch,le[p]),style:p===ie.shown?{}:g,onMouseEnter:()=>{d(ie.shown),t.assistantNotchShown(),a(!1)},onMouseLeave:()=>{d(ie.peeking),r||t.assistantNotchPeekingCollapsed()}},q.createElement("button",{onKeyDown:e=>{"Enter"===e.key&&u()},className:le.notchButton,"data-testid":"assistant-notch-button","aria-label":"Start a chat with Grammarly AI"},q.createElement(se.J,{accessibilityLabel:"",icon:o,size:"small"}),q.createElement(ue,null)))};const ue=()=>q.createElement("input",{"aria-hidden":"true",tabIndex:-1,style:{position:"absolute",inset:0,opacity:0,cursor:"inherit"}}),_e=({onClick:e,notchViewState:t,...n})=>q.createElement(Z.L,{chunkNameList:["designSystem","AAA-initAssistant"]},q.createElement(Q.F.Fragment,null,q.createElement("div",{"aria-label":"grammarly-global-assistant-notch",role:"group",tabIndex:-1}),t.view((t=>t&&q.createElement(de,{...n,alwaysVisible:t.alwaysVisible,icon:he(t.iconType),onClick:n=>e(n,t.selectedText),notchPosition:t.notchPosition})))));function he(e){switch(e){case"processing":return ne;case"selected":return oe;default:return J.H}}function ge(){const e=[],t=new E((0,s.OB)().browserApi.message),n=new H;e.push(n),n.assistantNotchInitialized();const o=i.h.create(""),r=i.h.create("");e.push(((e,t)=>{const n=new b({document,textFieldContent:t}),o=new S(n);return new v.S((0,y.NH)(new a(e,C.toServer,C.toClient)),o.publicApi)})(t,r));const l=new c(t),d=new W(l.api,o.view());e.push(d);const u=i.h.create(null);e.push((0,T.Q)({setCheckingStatus:e=>{u.set(e),null===e&&o.set("")},setTextFieldContent:e=>{r.set(e)},setSelectedTextFromIntegration:e=>{o.set(e)}}));const _=i.h.create({alwaysVisible:!1,iconType:void 0,selectedText:""});e.push(P(_,u,d.selectedText));const h=(e=>Y.V.get({monitorAs:"assistant-notch"}).inject($.EM.fromDocument(self.document,"grammarly-assistant-notch-view",{role:"presentation"}),$.zs.appendChild(document.documentElement),X.G7.showWhenLoaded(q.createElement(_e,{onClick:K.dE,trackingService:new H,notchViewState:e,onDragEnd:K.dl}))))(_);return{dispose:()=>{h.dispose(),e.forEach((e=>e.dispose()))}}}},21883:(e,t,n)=>{if(n.d(t,{C:()=>i}),5526!=n.j)var o=n(14562);function i(e){let t=e.getPlainText();if("canvas"!==e.type)return t;const n=e;if(!(0,o._)(n))return t;const i=[];n.forEachMappedFragment((({fragment:e,textRange:t})=>{if(e.special){const{start:n,end:o}=t;i.push({start:n,end:o,text:e.text})}}));for(const{start:e,end:n,text:o}of i.reverse())t=t.slice(0,e)+o+t.slice(n);return t}},96653:(e,t,n)=>{n.d(t,{Hq:()=>i,Vt:()=>o,wE:()=>s});const o="vBarCard",i="grammarly-extension-vBar-card",s="vBarCardPositionReference"},41048:(e,t,n)=>{n.d(t,{$:()=>r,EA:()=>s,QK:()=>a,SV:()=>i,Td:()=>c,x:()=>h});var o,i,s,r,a,c,l,d=n(64297),u=n(21147),_=n(29196);!function(e){e.isNoop=function(e){return 0===e.startOffset&&0===e.endOffset}}(o||(o={})),function(e){function t(e){return{start:Math.min(e.start,e.end),end:Math.max(e.start,e.end)}}e.eq=u.MW({start:u.lr,end:u.lr}),e.normalize=t,e.mergeAdjacent=function(e){return t=>{if(0===t.length)return[];const n=[t[0]];for(let o=1;o<t.length;++o){const i=n[n.length-1];e(i,t[o])?n[n.length-1]={start:i.start,end:t[o].end}:n.push(t[o])}return n}},e.create=function(e,n){return t({start:e,end:null!=n?n:e})},e.translate=function(e,t){return 0===t?e:{start:e.start+t,end:e.end+t}},e.transform=function(e,t){return o.isNoop(t)?e:{start:e.start+t.startOffset,end:e.end+t.endOffset}},e.rebase=function(e,t){return t.reduce(((e,t)=>{const n=_.q.getTransformOffset(t);return{start:t.pos<=e.start?Math.max(t.pos,e.start+n):e.start,end:t.pos<e.end?Math.max(t.pos,e.end+n):e.end}}),e)},e.contains=function(e,t,n){const o=n?t.start<=e.end:t.start<e.end;return t.start>=e.start&&o&&t.end>=e.start&&t.end<=e.end},e.isAdjacent=function(e,t){return e.end===t.start||t.end===e.start},e.intersects=function(e,t){return e.start>=t.start&&e.start<t.end||t.start>=e.start&&t.start<e.end},e.equals=function(t,n){return e.eq.equals(t,n)},e.toString=function(e){return`[${e.start}, ${e.end}]`},e.isCollapsed=function(e){return e.start===e.end},e.convertFromRawTransform=function(e){return{start:e.s,end:e.e}},e.length=function(e){return e.end-e.start}}(i||(i={})),function(e){e.hasTransformJSON=function(e){return"transformJSON"in e}}(s||(s={})),function(e){function t(e,t,n){return e.slice(t.start,t.end)===n}function n(e){return"transformJSON"in e&&Boolean(e.transformJSON)}function o(e){return"subalerts"in e&&e.subalerts&&"labels"in e&&Boolean(e.labels)}function s(e){return!n(e)&&!o(e)}function r({withPosition:e,withTransformJSON:t,withSubAlerts:i}){return r=>s(r)?e(r):n(r)?t(r):o(r)?i(r):void(0,d.vE)(r)}e.convertHighlightRangeFromRawTransform=e=>({...i.convertFromRawTransform(e),type:e.type}),e.isConsistentWithText=function(n,o){let i;if(e.isWithSubAlerts(n))i=n.highlightRanges.every(((e,i)=>t(o,e,n.highlightTexts[i])));else{const e=n.highlightRanges.find((e=>"enclosing"===e.type))||n.highlightRanges[0];i=t(o,e,n.highlightTexts[0])}return i&&(!e.isRegular(n)||t(o,n.transformRange,n.transformText))},e.isWithTransformJson=n,e.isWithSubAlerts=o,e.isWithPosition=s,e.isRegular=function(e){return s(e)||n(e)},e.match=r,e.map=function({withPosition:e,withTransformJSON:t,withSubAlerts:n}){return r({withPosition:e,withTransformJSON:t,withSubAlerts:n})}}(r||(r={})),function(e){e.waitingForConnection="waitingForConnection",e.waitingForReconnection="waitingForReconnection",e.startingConnection="startingConnection",e.newSessionStarted="newSessionStarted",e.existingSessionStarted="existingSessionStarted"}(a||(a={})),function(e){e.ready="ready",e.inProgress="inProgress",e.reconnectRequired="reconnectRequired"}(c||(c={})),function(e){e.unknown="unknown",e.clientQueueNonEmpty="clientQueueNonEmpty",e.noSuchSession="noSuchSession",e.cannotReconnectToSelf="cannotReconnectToSelf",e.differentUsers="differentUsers",e.sessionClosed="sessionClosed",e.messageCountIncorrect="messageCountIncorrect"}(l||(l={}));const h=(e,t)=>{if(!e)return l.clientQueueNonEmpty;if(!t)return l.unknown;const{reconnectFailedReason:n}=t;if("no such session"===n)return l.noSuchSession;if("cannot reconnect to self"===n)return l.cannotReconnectToSelf;if("different users"===n)return l.differentUsers;if("session is closed"===n)return l.sessionClosed;return n&&/(client send|server send|no such message in buffer)/.test(n)?l.messageCountIncorrect:l.unknown}},29417:(e,t,n)=>{var o;n.d(t,{H:()=>o}),function(e){e.idle="idle",e.inProgress="inProgress"}(o||(o={}))},67271:(e,t,n)=>{n.d(t,{L:()=>a,n:()=>r});var o=n(49231),i=n(32082),s=n(75558);const r=(e,t=(0,s.OB)().browserApi.getUrl)=>t(`src/css/${e}.styles.css`),a=e=>{const t=o.useMemo((()=>i.Y.create("RenderWithStyles")),[]),n="chunkName"in e?[e.chunkName]:e.chunkNameList,s=o.useMemo((()=>n.map((t=>r(t,e.getUrl)))),[...n]),[a,c]=o.useState(0),[l,d]=o.useState(!1);return o.useEffect((()=>{a===s.length&&d(!0)}),[a]),o.createElement(o.Fragment,null,s.map((e=>o.createElement("link",{rel:"stylesheet",type:"text/css",href:e,key:e,onLoad:()=>(e=>{null==t||t.debug(`Style link was loaded [href: ${e}]`),c((e=>e+1))})(e),onError:n=>((e,n)=>{null==t||t.error(`Couldn't load style link [href: ${n}]`,e),c((e=>e+1))})(n,e)}))),l&&e.children)}},71497:(e,t,n)=>{if(n.d(t,{Bi:()=>v,E6:()=>h,Jj:()=>c,Me:()=>a,Qf:()=>C,XQ:()=>d,Yd:()=>u,a9:()=>p,bp:()=>_,f0:()=>b,is:()=>g,kW:()=>f,o:()=>l,wr:()=>m}),5526!=n.j)var o=n(3601);const i=new Set(["absolute","relative","fixed","sticky"]),s=new Set(["strict","content","layout","paint"]),r=new Set(["flex","inline-flex"]);function a(e){const t=e.ownerDocument;if(t)return t;throw new Error("target does not have ownerDocument")}function c(e){const t=a(e).defaultView;if(t)return t;throw new Error("active document is detached from a window")}function l(e){return c(e).getComputedStyle(e)}function d(e){return i.has(l(e).position)}function u(e,t){const n=i.has(t.position);return!n&&null!==t.zIndex&&"auto"!==t.zIndex&&e.parentElement?r.has(l(e.parentElement).display):n}function _(e){const t=a(e).body;if(e===t)throw new Error("target is body");let n=e;do{if(n=n.parentElement,n&&d(n))return n}while(null!==n&&n!==t);return n||t}function h(e,t){var n,i,s,r;const c=a(e).body;if(e===c)throw new Error("target is body");const l=(0,o.Cq)(c.parentElement);let d=e;do{if(d=null!==(r=null!==(i=null!==(n=d.assignedSlot)&&void 0!==n?n:d.parentElement)&&void 0!==i?i:null===(s=d.getRootNode())||void 0===s?void 0:s.host)&&void 0!==r?r:null,d&&t(d))return d}while(null!==d&&d!==l);return d||l}function g(e){return h(e,(e=>{return d(e)||(t=e,s.has(l(t).contain));var t}))}function p(e){return function(e){const t=l(e);return"auto"===t.overflow||"scroll"===t.overflow||"auto"===t.overflowY||"scroll"===t.overflowY}(e)||function(e){const t=l(e);return"auto"===t.overflow||"scroll"===t.overflow||"auto"===t.overflowX||"scroll"===t.overflowX}(e)}function m(e,t){for(let n=e;null!=n;n=n.parentElement)if(t(n))return n;return null}function f(e){const t=e.ownerDocument,n=t&&t.defaultView;if(!t||!n)return;const o=t.body.scrollLeft,i=t.body.scrollTop,s=n.scrollY,r=n.scrollX;e.focus(),s===n.scrollY&&r===n.scrollX||n.scroll(r,s),i!==t.body.scrollTop&&(t.body.scrollTop=i),o!==t.body.scrollLeft&&(t.body.scrollLeft=o)}const w=e=>e?1/e:1,b=(e,t)=>{if(!e)return;const n=C(self.getComputedStyle(e));if(!n)return;const o=w(Number(n.x)),i=w(Number(n.y));return{transform:`translate(${t.left*(o-1)}px, ${t.top*(i-1)}px) scale(${o}, ${i})`,transformOrigin:e.style.transformOrigin}};function C(e){if(e.transform&&"none"!==e.transform){const t=/scale\(([\d.]+)(?:, ([\d.]))*\)|matrix\(([\d.]+), [\d.]+, [\d.]+, ([\d.]+), [\d.]+, [\d.]+\)/.exec(e.transform);if(t){const[e,n,o,i,s]=t;return{x:n||i,y:o||s||n}}}}function v(e){try{const t=new DOMMatrixReadOnly(e.transform);return{x:t.e,y:t.f}}catch(e){return}}},29196:(e,t,n)=>{n.d(t,{k:()=>i,q:()=>o});var o,i,s=n(82522),r=n(88305);!function(e){let t;function n(e){return e._tag===t.ins}function o(e){return e._tag===t.del}!function(e){e.ins="ins",e.del="del"}(t=e.Type||(e.Type={})),e.isIns=n,e.ins=function(e,n){return{_tag:t.ins,pos:e,text:n}},e.isDel=o,e.del=function(e,n){return{_tag:t.del,pos:e,text:n}},e.applyChanges=function(e,t){return t.reduce(((e,t)=>n(t)?e.slice(0,t.pos)+t.text+e.slice(t.pos):o(t)?e.slice(0,t.pos)+e.slice(t.pos+t.text.length):(0,r.vE)(t)),e)},e.applyChangesInverse=function(t,i){return e.applyChanges(t,i.reverse().map((t=>n(t)?e.del(t.pos,t.text):o(t)?e.ins(t.pos,t.text):(0,r.vE)(t))))},e.getTransformOffset=function(e){return n(e)?e.text.length:o(e)?-e.text.length:void(0,r.vE)(e)},e.getRange=function(e){return{start:e.pos,end:e.pos+e.text.length}}}(o||(o={})),function(e){e.fromDiff=function(e,t,n){const i=s(e,t,n);let r=0;const a=[];for(const e of i)e[0]===s.EQUAL?r+=e[1].length:e[0]===s.INSERT?(a.push(o.ins(r,e[1])),r+=e[1].length):(e[0],a.push(o.del(r,e[1])));return a}}(i||(i={}))},39363:(e,t,n)=>{function o(e){return e.length>0?e[0]:null}function i(e){return 1===e.length?e[0]:null}function s(e){return 1===e.length?e[0]:e.length>0?e.reduce(((e,t)=>t.start===t.end?e:e.start===e.end?t:{start:Math.min(e.start,t.start),end:Math.max(e.end,t.end)})):null}n.d(t,{Ey:()=>o,Ls:()=>s,qq:()=>i})},61600:(e,t,n)=>{n.d(t,{H:()=>o});var o,i=n(34527),s=n(13391);!function(e){const t=s.h.create(""),n=new Proxy({textContent:""},{get:(e,n)=>"textContent"===n?t.get():Reflect.get(e,n),set:(e,n,o)=>"textContent"===n&&"string"==typeof o?(t.set(o),!0):Reflect.set(e,n,o)});e.init=function(){i.ux.setStylesTarget(n)},e.styles=t.view()}(o||(o={}))},96930:(e,t,n)=>{n.d(t,{YS:()=>b,mE:()=>f,nS:()=>o,o6:()=>_});var o,i=n(49231),s=n(32073),r=n(13391),a=n(37213),c=n(40722),l=n(32082),d=n(61600),u=n(25419);!function(e){e.Context=i.createContext(null)}(o||(o={}));const _=16;function h(e,t){e&&e instanceof HTMLElement?e.style.setProperty("--rem",`${t}`):l.Y.create("ShadowRootInjector").warn("setRootCssVar: host is not an HTMLElement. This should not happen. Please report this issue.")}class g{constructor(){this._denaliStyleSheet=new CSSStyleSheet,this._globalStyleSheet=new CSSStyleSheet,this._globalStyleSheetLoaded=r.h.create(null),this._subscription=new s.w0}inject(e,t){const n=this._globalStyleSheetInitialized();n||this._initGlobalStyleSheet();const s=e.attachShadow({mode:"open"});s.adoptedStyleSheets=[this._denaliStyleSheet,this._globalStyleSheet],h(s.host,_);const r=(0,u.X3)(s,i.createElement(o.Context.Provider,{value:s},i.createElement(t,{viewLoaded:this._globalStyleSheetLoaded.view((e=>({...e,constructableStyleSheetInitialized:n})))})));return()=>{r(),this._subscription.unsubscribe()}}_globalStyleSheetInitialized(){return this._globalStyleSheet.cssRules.length>0}async _initGlobalStyleSheet(){try{if(!self.GR_INLINE_STYLES)throw new Error("No inline styles");await Promise.all([this._denaliStyleSheet.replace(d.H.styles.get()),this._globalStyleSheet.replace(self.GR_INLINE_STYLES)]),this._globalStyleSheetLoaded.set({stylesInjectionStrategy:"constructableStyleSheet"}),this._subscription.add(d.H.styles.subscribe((e=>this._denaliStyleSheet.replaceSync(e))))}catch(e){this._globalStyleSheetLoaded.set({error:`${e}`,stylesInjectionStrategy:"constructableStyleSheet"})}}}const p=(0,a.xb)(c.b);class m{inject(e,t){const n=r.h.create(null),s=e.attachShadow({mode:"open"});return h(s.host,_),(0,u.X3)(s,i.createElement(i.Fragment,null,i.createElement(p,null,d.H.styles),i.createElement(c.b,null,self.GR_INLINE_STYLES),i.createElement(o.Context.Provider,{value:s},i.createElement(t,{viewLoaded:n}))),(()=>n.set({stylesInjectionStrategy:"styleElement"})))}}class f{inject(e,t){const n=r.h.create(null),s=e.attachShadow({mode:"open"});return(0,u.X3)(s,i.createElement(i.Fragment,null,i.createElement(o.Context.Provider,{value:s},i.createElement(t,{viewLoaded:n}))),(()=>n.set({stylesInjectionStrategy:"noStyles"})))}}let w=null;function b(e=!1){return e&&function(){if(null===w)try{const e=new CSSStyleSheet;w=!!e&&!!e.replace&&!!e.replaceSync&&"adoptedStyleSheets"in Document.prototype}catch(e){w=!1}return!0===w}()?new g:new m}},25419:(e,t,n)=>{n.d(t,{G7:()=>m,X3:()=>g});var o=n(49231),i=n(64151),s=n(84714),r=n(2613),a=n(14969),c=n(29479),l=n(954),d=n(24666),u=n(59179),_=n(47387);function h(e){return!!e&&!e.error}function g(e,t,n){return(0,i.render)(t,e,n),()=>(0,i.unmountComponentAtNode)(e)}const p=({view:e,placeholder:t,viewLoaded:n,minDuration:i,forcePlaceholder:d})=>{const u=h(n.get())&&!d?(0,s.of)(e):n.pipe((0,r.e)(i),(0,a.P)(h),(0,c.h)(e),(0,l.O)(t));return o.createElement(_.F.Fragment,null,u)};var m;!function(e){e.showWhenLoaded=function(e){return function({viewLoaded:t}){return o.createElement(_.F.Fragment,null,t.pipe((0,d.x)(),(0,u.U)((t=>h(t)?e:null))))}},e.withPlaceholder=function(e,t,n,i){return function({viewLoaded:s}){return o.createElement(p,{view:e,placeholder:t,minDuration:n||0,viewLoaded:s,forcePlaceholder:i||!1})}}}(m||(m={}))},29037:(e,t,n)=>{n.d(t,{EM:()=>o,_R:()=>p,aP:()=>m,zs:()=>i});var o,i,s=n(49231),r=n(32073),a=n(13391),c=n(96653),l=n(95804),d=n(75558),u=n(61600),_=n(25419),h=n(50006);class g{constructor(e,t,n,o){var i,s,r;this._options=o,this._root=null,this._unmount=null,this._root=e(),t(this._root),this._unmount=n(this._root),(null===(i=this._options)||void 0===i?void 0:i.allowPrint)||this._root.classList.add(h.gr_no_print),(null===(s=this._options)||void 0===s?void 0:s.eventPropagationHandler)&&(this._disposeEventPropagationHandler=null===(r=this._options)||void 0===r?void 0:r.eventPropagationHandler(this._root)),this._preventEventPropagation()}_preventEventPropagation(){const e=["keydown","keyup","keypress","mouseup","mousedown","pointerdown","click"];(0,d.OB)().experimentClient.isGateEnabled(l.K.CentralizeStopEventPropagation)&&e.forEach((e=>{var t;null===(t=this._root)||void 0===t||t.addEventListener(e,(e=>{e.stopPropagation()}))}))}dispose(){this._disposeEventPropagationHandler&&(this._disposeEventPropagationHandler(),this._disposeEventPropagationHandler=void 0),this._unmount&&(this._unmount(),this._unmount=null),this._root&&(this._root.parentNode?this._root.parentNode.removeChild(this._root):this._root.remove(),this._root=null)}}class p extends g{constructor(e,t,n,o){super(e,t,(e=>{var t,o;const i=new r.w0,c=e.ownerDocument,l=c.head,d="grammarly-extension-styles",h="grammarly-extension-denali-styles";let g=Array.from(null!==(t=l.getElementsByTagName("style"))&&void 0!==t?t:[]).find((e=>e.id===d)),p=Array.from(null!==(o=l.getElementsByTagName("style"))&&void 0!==o?o:[]).find((e=>e.id===h));g||(g=c.createElement("style"),g.id=d,g.innerHTML=self.GR_INLINE_STYLES||"",l.prepend(g)),p||(p=c.createElement("style"),p.id=h,g.insertAdjacentElement("beforebegin",p)),p.innerHTML=u.H.styles.get(),i.add(u.H.styles.subscribe((e=>{p&&(p.innerHTML=e)})));const m=a.h.create(null),f=(0,_.X3)(e,s.createElement(n,{viewLoaded:m}),(()=>m.set({shadowDOM:!1})));return()=>{i.unsubscribe(),f()}}),o)}}class m extends g{constructor(e,t,n,o,i){super((()=>{const t=e();return t.setAttribute(m.SHADOW_DOM_ROOT_ATTRIBUTE,"true"),t.tagName.toLocaleLowerCase()===c.Hq.toLocaleLowerCase()&&(null==i?void 0:i.vBarsCustomAttributes)&&Object.entries(i.vBarsCustomAttributes).forEach((([e,n])=>{t.setAttribute(e,n)})),t}),t,(e=>o.get().inject(e,(e=>s.createElement(n,{viewLoaded:e.viewLoaded.view((e=>e?{...e,shadowDOM:!0}:null))})))),i)}}m.SHADOW_DOM_ROOT_ATTRIBUTE="data-grammarly-shadow-root",function(e){e.defaultName="grammarly-extension",e.fromDocument=function(t,n=e.defaultName,o={}){return{doc:t,name:n,attributes:o}}}(o||(o={})),function(e){e.appendChild=function(e){return{parent:e}},e.isCustom=function(e){return e instanceof Function}}(i||(i={}))},88637:(e,t,n)=>{n.d(t,{V:()=>l});var o=n(88305),i=n(49231),s=n(14969),r=n(26585);class a{constructor(e,t){this._injector=e,this._injectionName=t}inject(e,t,n,o){const s=performance.now(),l=a._firstRender,d=a._somePreviousRenderCompleted;return a._firstRender=!1,this._injector(e,t,(({viewLoaded:e})=>i.createElement(c,{view:n,viewLoaded:e,onComplete:e=>{const t=performance.now();(0,r.Tb)().performance.viewInjection({timeToRender:Math.trunc(t-s),startTime:Math.trunc(s),endTime:Math.trunc(t),injectionName:this._injectionName,firstRender:l,somePreviousRenderCompleted:d,error:e.error||null,shadowDOM:!!e.shadowDOM,stylesInjectionStrategy:e.stylesInjectionStrategy||null,constructableStyleSheetInitialized:!!e.constructableStyleSheetInitialized}),a._somePreviousRenderCompleted=!0}})),o)}}a._firstRender=!0,a._somePreviousRenderCompleted=!1;const c=({viewLoaded:e,view:t,onComplete:n})=>(i.useEffect((()=>{const t=e.pipe((0,s.P)(o.fQ)).subscribe(n);return()=>null==t?void 0:t.unsubscribe()}),[]),i.createElement(t,{viewLoaded:e}));var l,d=n(96930),u=n(29037);function _(e){const t=e.doc.createElement(e.name);return e.attributes&&Object.entries(e.attributes).forEach((([e,n])=>{t.setAttribute(e,n)})),t}!function(e){const t=(0,o.Vo)(d.YS);e.get=function(e){return{inject:(n,i,s,r)=>{const c=(null==e?void 0:e.monitorAs)||n.name||"unknown";return new a((null==e?void 0:e.noShadowDOM)?(e,t,n,o)=>new u._R((()=>_(e)),u.zs.isCustom(t)?t:e=>t.parent.appendChild(e),n,o):(l=(null==e?void 0:e.noStyles)?(0,o.Vo)((()=>new d.mE)):t,(e,t,n,o)=>new u.aP((()=>_(e)),u.zs.isCustom(t)?t:e=>t.parent.appendChild(e),n,l,o)),c).inject(n,i,s,r);var l}}}}(l||(l={}))},93413:(e,t,n)=>{n.d(t,{E:()=>o});class o{constructor(e,t,n,o){this._customInboundEventName=t,this._customOutboundEventName=n,this._wrapOutboundMessage=o,this.inbound={subscribe:e=>{const t=({detail:t})=>{const n=t;e&&("function"==typeof e?e(n):e.next&&e.next(n))};return this._target.addEventListener(this._customInboundEventName,t,!1),{unsubscribe:()=>this._target.removeEventListener(this._customInboundEventName,t,!1)}}},this.outbound=e=>{const t=this._wrapOutboundMessage?this._wrapOutboundMessage(e):e,n=new CustomEvent(this._customOutboundEventName,{bubbles:!0,cancelable:!0,detail:t});this._target.dispatchEvent(n)},this._target=e.defaultView||e}}},14562:(e,t,n)=>{function o(e){return!0===e.canvasFullTextMap}function i(e){return"CanvasAdvancedTextMap"===e.subType}n.d(t,{_:()=>i,k:()=>o})},33145:(e,t,n)=>{n.d(t,{J:()=>i});var o=n(75558);const i=new Proxy({},{get:(e,t)=>(...e)=>(0,o.OB)().bgRpc.api.trackGnar(t,e)})},40722:(e,t,n)=>{n.d(t,{b:()=>i});var o=n(49231);const i=({children:e})=>{const t="string"==typeof e?e:"";return t?o.createElement("style",{dangerouslySetInnerHTML:{__html:t}}):null}},95804:(e,t,n)=>{n.d(t,{K:()=>a});var o=n(81231),i=n(19917),s=n(95522),r=n(13874);const a={...o.C,...r.D,...s.K,StandWithUkraineGrammarlySuspended:new i.Cc("standWithUkraineExtensionSuspended","enabled"),StandWithUkraineTheme:new i.Cc("standWithUkraineExtensionTheme","enabled"),StudentsOFEGdocs:new i.Cc("citations_rollout_gdocs","enabled"),StudentsOFEInternal:new i.Cc("citations_rollout_internal","enabled"),CitationBuilder:new i.Cc("citation_builder","enabled"),CitationBuilderEditing:new i.Cc("citation_builder_editing","enabled"),CitationBuilderManualInvocation:new i.Cc("citation_builder_manual_invocation","enabled"),ExtensionDebugReport:new i.Cc("extension_debug_report","enabled"),SduiBulkDismiss:new i.Cc("sdui_bulk_dismiss","enabled"),TrackSiblingDataForGMail:new i.Cc("extension_track_sibling_data_for_gmail","enabled"),FixGmailHouseCat:new i.Cc("gmail_housecat_memory_leak_fix","enabled"),KnowledgeHubGdocs:new i.Cc("knowledge_hub_gdocs","enabled"),KnowledgeHubGmail:new i.Cc("knowledge_hub_gmail","enabled"),KnowledgeHubSlack:new i.Cc("knowledge_hub_slack","enabled"),KnowledgeHubWord:new i.Cc("windowsextension_knowledge_hub_word","enabled"),SlackUseInsertHTML:new i.Cc("extension_slack_use_insert_html"),KeyboardShortcut:new i.Cc("extension_keyboard_shortcut","enabled"),EnableFirstVisibleHighlightTracking:new i.Cc("extension_track_first_visible_highlight","enabled"),KnowledgeHubCheetahIntegration:new i.Cc("gbgo_knowledge_share_web","enabled"),GdocsMultiColumnAllCombinations:new i.Cc("gdocs_canvas_multicolumn_compare_all_combination","enabled"),GdocsRefactorDomQuery:new i.Cc("gdocs_refactor_dom_query","enabled"),GDocsUseStackToStoreParentClip:new i.Cc("gdocs_use_stack_to_store_parent_clip","enabled"),GdocsReturnAllRects:new i.Cc("gdocs_return_all_rects","enabled"),SuggestionDeliveryAutoApply:new i.Cc("suggestion_delivery_autoapply_extension_gate_23q3","enabled"),IndianEnglishDialect:new i.Cc("indian_english_dialect","enabled"),IndianEnglishDialectInternal:new i.Cc("indian_english_dialect_internal","enabled"),CheetahFeatureFlagCompose:new i.Cc("cheetah_extension_feature_flag_compose","enabled"),CheetahFeatureFlagRewrite:new i.Cc("cheetah_extension_feature_flag_rewrite","enabled"),CheetahFeatureFlagInlineRewrite:new i.Cc("cheetah_extension_feature_flag_inline_rewrite","enabled"),CheetahFeatureFlagMagicRewrite:new i.Cc("cheetah_extension_feature_flag_magic_rewrite","enabled"),CheetahFeatureFlagQuickReply:new i.Cc("cheetah_extension_feature_flag_quick_reply","enabled"),CheetahFeatureFlagInlineQuickReply:new i.Cc("cheetah_extension_feature_flag_inline_quick_reply","enabled"),CheetahFeatureFlagGDocsInlineRewrites:new i.Cc("cheetah_extension_feature_flag_gdocs_inline_rewrites","enabled"),CheetahFeatureFlagOnboarding:new i.Cc("cheetah_extension_feature_flag_onboarding","enabled"),CheetahStudentsOnboarding:new i.Cc("ggo_students_onboarding","enabled"),CheetahStudentBTS:new i.Cc("ggo_student_bts","enabled"),CheetahStudentPromptsInternal:new i.Cc("ggo_student_prompts_internal","enabled"),GDocsTextCorruptionValidateTextBeforeAlertApply:new i.Cc("gDocs_tc_validate_text_before_alert_apply","enabled"),GDocsGetFormatMap:new i.Cc("gdocs_get_format_map","enabled"),NonGDocsGetFormatMap:new i.Cc("extension_get_format_map","enabled"),SupportMoreStyle:new i.Cc("extension_support_more_style","enabled"),GDocsUseVisibleLayoutRoot:new i.Cc("gdocs_use_visible_layout_root"),GDocsUnloadIfInitArgsChanged:new i.Cc("gdocs_unload_when_init_args_changed"),GDocsDetectDocModeChangeByLayoutRootListener:new i.Cc("gdocs_detect_dom_mode_change_by_layout_root"),Iterable:new i.Cc("iterable_gate_ext","enabled"),IterableGDocsSidebarInitializedTrigger:new i.Cc("iterable_gate_gdoc_sidebar_initialized_ext","enabled"),IterableUserSessionInitializedTrigger:new i.Cc("iterable_gate_user_session_initialized_ext","enabled"),NonGDocsFirstAlertLookedAtTrigger:new i.Cc("iterable_gate_non_gdocs_first_alert_looked_at_ext","enabled"),InkwellSubscribeToSecureKeyRequests:new i.Cc("extension_inkwell_communication","enabled"),IterablePauseInTypingTrigger:new i.Cc("iterable_gate_pause_in_typing_ext","enabled"),IterableEngagedByAlertsAcceptedTrigger:new i.Cc("iterable_gate_alerts_accepted_ext","enabled"),IterableTriggerFromCustomPayload:new i.Cc("iterable_trigger_from_custom_payload_ext","enabled"),IterableTargetDomain:new i.Cc("iterable_target_domain_ext","enabled"),IterableMetrics:new i.Cc("iterable_metrics_ext","enabled"),IterableTriggerMetrics:new i.Cc("iterable_trigger_metrics_ext","enabled"),IterableLogs:new i.Cc("iterable_logs_ext","enabled"),IterableCooldownAndImpressions:new i.Cc("iterable_cooldown_and_retry_ext","enabled"),IterableGlobalCooldown:new i.Cc("iterable_global_cooldown_ext","enabled"),IterableHideIPMOnPopupStateChange:new i.Cc("iterable_hide_ipm_on_popup_state_change_ext","enabled"),SessionStorageLogsBackup:new i.Cc("session_storage_logs_backup","enabled"),SduiPopoverNotifications:new i.Cc("sdui_popover_manager_ext","enabled"),TextChangeBufferUseLegacy:new i.Cc("text_change_buffer_use_legacy_3","enabled"),TextChangeBufferDontFlushOnApply:new i.Cc("text_change_buffer_dont_flush_on_apply_1","enabled"),DontSyncAlertApplicationsWithInlineMode:new i.Cc("dont_sync_alert_applications_with_inline_mode","enabled"),KnowledgeEngineSearchV2Alpha:new i.Cc("knowledge_engine_search_v2alpha","enabled"),HideReportBugByGrammarlyEmployeeFeature:new i.Cc("hide_report_bug_by_grammarly_employee_feature","enabled"),ExtensionFeatureFlagCAPIClientStorage:new i.Cc("extension_feature_flag_capi_client_storage","enabled"),ExtensionFeatureFlagCAPIClientStorageCleanup:new i.Cc("extension_feature_flag_capi_client_storage_cleanup","enabled"),ExtensionFeatureFlagCAPIClientStorageLogWarnings:new i.Cc("extension_capi_client_storage_log_warnings","enabled"),ExtensionFeatureFlagCAPIClientStorageRunCleanupRequests:new i.Cc("extension_capi_client_storage_run_cleanup_requests","enabled"),CAPIDistinctConnectionStatus:new i.Cc("extension_capi_distinct_connection_status","enabled"),TransformReplacementBeforeApplyFeature:new i.Cc("extension_feature_transform_replacement_before_apply","enabled"),ZendeskTransformReplacementOnlyForString:new i.Cc("extension_zendesk_transform_replacement_only_for_string","enabled"),GDocsInitGbuttonInsideCommentsField:new i.Cc("gdocs_init_gbutton_inside_comments_field","enabled"),GDocsCreateRichText:new i.Cc("gdocs_create_rich_text","enabled"),GDocsFormatGetFontFamily:new i.Cc("gdocs_format_get_font_family","enabled"),GDocsFormatGetColor:new i.Cc("gdocs_format_get_color","enabled"),GDocsAlignBasicStyleForTextDiff:new i.Cc("gdocs_align_basic_style_for_text_diff","enabled"),GDocsReturnAppliedForNonSuccess:new i.Cc("gdocs_return_applied_for_non_success","enabled"),GDocsReturnAppliedForAll:new i.Cc("gdocs_return_applied_for_all","enabled"),GDocsCheckTextForSuggestionMode:new i.Cc("gdocs_check_text_for_suggestion_mode","enabled"),GDocsNoDeleteEventForSuggestionMode:new i.Cc("gdocs_no_delete_event_for_suggestion_mode","enabled"),GDocsUseSelectionServiceForSuggestionMode:new i.Cc("gdocs_use_selection_service_suggestion_mode","enabled"),ExtensionA11yUIFixes:new i.Cc("extension_a11y_ui_fixes","enabled"),AutocorrectKeydownCaptureUserInput:new i.Cc("extension_autocorrect_keydown_capture_user_input","enabled"),AutocorrectAllowCaptureNonTrustedUserEvents:new i.Cc("extension_autocorrect_allow_capture_not_trusted_user_events","enabled"),DispatchDeltaDeleteEvent:new i.Cc("extension_dispatch_deleta_delete_event","enabled"),DiscordTransformInsertToReplace:new i.Cc("extension_discord_transform_insert_to_replace","enabled"),DiscordExecComandReplacementService:new i.Cc("extension_discord_exec_comand_replacement","enabled"),DiscordDelayAfterReplacementInBatch:new i.Cc("extension_discord_delay_after_replacement_in_batch","enabled"),MSTeamsCustomTransformReplacementWithSpaces:new i.Cc("extension_ms_teams_transform_replacement_with_spaces","enabled"),ReplacementExecutionTimeoutValidation:new i.Cc("extension_replacement_execution_timeout_validation","enabled"),CheetahSelectionContextUpdates:new i.Cc("cheetah_selection_context_updates","enabled"),CheetahSelectionContextUpdatesServer:new i.Cc("cheetah_selection_context_updates_server","enabled"),UseBodyToGetViewportDimentions:new i.Cc("extension_use_body_to_get_viewport_dimentions","enabled"),CLEditorIntegration:new i.Cc("extension_cleditor_integration","enabled"),GOSRollout:new i.Cc("extension_gos_rollout","enabled"),GOSTelemetry:new i.Cc("extension_gos_telemetry","enabled"),CentralizeStopEventPropagation:new i.Cc("extension_centralize_stop_event_propagation","enabled"),CollectDataForPreserveFormatting:new i.Cc("extension_collect_data_for_preserve_formatting","enabled"),FormattingUseBatchWhenHaveListItems:new i.Cc("extension_preserve_formatting_skip_list_items","enabled"),FormattingReplaceEmptyStringToNonBreakingSpaceEntity:new i.Cc("extension_formatting_support_continuous_white_spaces","enabled"),GDocsCollectLayoutRenderingStats:new i.Cc("gdocs_collect_layout_rendering_stats","enabled"),GDocsInternalsFilterStrikethrough:new i.Cc("gdocs_internals_filter_strikethrough","enabled"),GDocsTrackUnderline:new i.Cc("gdocs_track_underline","enabled"),GDocsTrackStrikeThrough:new i.Cc("gdocs_track_strikethrough","enabled"),GDocsInternalsFilterCodeBlocks:new i.Cc("gdocs_internals_filter_code_blocks","enabled"),GDocsDebounceDataRendering:new i.Cc("gdocs_debouncing_data_rendering","enabled"),GDocsExtractLinkFromGoogleInternals:new i.Cc("gdocs_extract_link_from_internals","enabled"),GDocsExtractDocumentInternals:new i.Cc("gdocs_extract_document_internals","enabled"),GDocsExtractSuggestionObjectsWithPath:new i.Cc("gdocs_extract_suggestion_objects_with_path"),GDocsretryExtractAnnotationAfterOneSecond:new i.Cc("gdocs_retry_extract_annotation_after_one_second"),GDocsRetryExtractAnnotation100Times:new i.Cc("gdocs_retry_extract_annotation_100_times"),GDocsExtractLinkInternalsByPath:new i.Cc("gdocs_extract_link_internals_by_path"),TrackInstitutionIdToGnar:new i.Cc("extension_track_institution_id_to_gnar","enabled"),GdocsTrackFatalPopup:new i.Cc("extension_gdocs_track_fatal_popup","enabled"),VbarsGlobal:new i.Cc("vbars_global","enabled"),CheetahOnboardingContextProviderFix:new i.Cc("cheetah_extension_external_onboarding_context_provider_fix","enabled"),CheetahClearSDUIBufferOnReconnect:new i.Cc("cheetah_extension_clear_sdui_buffer_on_reconnect","enabled"),InactiveIntegration:new i.Cc("extension_inactive_integration","enabled"),VbarsInGdocs:new i.Cc("vbars_in_gdocs","enabled"),G2VBarsKillSwitch:new i.Cc("vbars_extension_kill_switch"),G2VBarsDoNotExtendWidth:new i.Cc("vbars_extension_do_not_extend_width"),G2VBarsInternal:new i.Cc("extension_g2_vbars_internal","enabled"),G2VBarsInternalIgnoreAllowList:new i.Cc("extension_g2_vbars_internal_ignore_allow_list","enabled"),G2VBarsSelectionPreload:new i.Cc("vbars_selection_preload_extension","enabled"),G2VBarsStreaming:new i.Cc("vbars_extension_streaming"),G2VBarsRevertRewrite:new i.Cc("vbars_extension_revert_rewrite"),G2VBarsMonetization:new i.Cc("extension_vbars_monetization","enabled"),G2VBarsCAPIMonetization:new i.Cc("extension_vbars_capi_monetization","enabled"),G2VBarsTrustedRewrite:new i.Cc("vbars_trusted_rewrite_extension"),G2VBarsPositioningFixes:new i.Cc("extension_vbars_positioning_fixes"),G2VBarsAccessibleActivation:new i.Cc("extension_vbars_accessible_activation"),G2VBarsWaitForLatestCheckingRevisionBeforeGettingRewrite:new i.Cc("extension_vbars_rewrite_without_checking_completion","enabled"),G2VBarsDeactivation:new i.Cc("extension_vbars_deactivation","enabled"),G2VBarsEmphasizingParagraph:new i.Cc("vbars_idle_extension_emphasizing_paragraph","enabled"),G2VBarsSafeZone:new i.Cc("vbars_idle_extension_safe_zone","enabled"),G2VBarsSelectionEnterprise:new i.Cc("vbars_selection_enterprise","enabled"),G2VBarsPushedContent:new i.Cc("pushed_content_extension","enabled"),G2VBarsIdleEnterprise:new i.Cc("vbars_idle_enterprise","enabled"),HbarsInGdocs:new i.Cc("hbars_in_gdocs","enabled"),UseApproximateTCValidation:new i.Cc("use_approximate_tc_validation","enabled"),GDocsCanUseTransformBeforeValidate:new i.Cc("gdocs_can_use_trasfrom_before_validate","enabled"),GDocsSendValidationInfoForBatchReplacement:new i.Cc("gdocs_send_validation_info_for_batch_replacement","enabled"),CanIgnoreNonWidthCharsForTCValidation:new i.Cc("extension_ignore_non_width_chars_for_tc_validaition","enabled"),GDocsCanIgnoreEndNewLine:new i.Cc("gdocs_ignore_end_new_line_for_tc_validaition","enabled"),GDocsWhitespaceSelectionRetry:new i.Cc("gdocs_whitespace_selection_retry","enabled"),OAuth2SelectiveLogout:new i.Cc("extension_oauth2_selective_logout","enabled"),OAuth2LastAuthnEventLogout:new i.Cc("extension_oauth2_last_authn_event_logout","enabled"),WritingExpertPullMode:new i.Cc("extension_writing_expert_pull_mode"),WritingExpertInAssistantInternal:new i.Cc("writing_expert_in_assistant"),WritingExpertInAssistantNative:new i.Cc("writing_expert_in_assistant_native"),LockedUIRollout:new i.Cc("locked_ui_rollout","unlimited_pool"),DebouncedInlineCardUpdate:new i.Cc("extension_debounced_inline_card_update"),GDocsShouldCheckIfMappedSomething:new i.Cc("gdocs_map_result_must_mapped_some_text"),GDocsCheckIndexBoundaryWhenTranslateIndex:new i.Cc("gdocs_check_index_boundary_when_translate_index"),GDocsOnlyAddIncompleteResult:new i.Cc("gdocs_only_add_incomplete_result"),GDocsPageInputValidationForParser:new i.Cc("gdocs_page_input_validation_for_parser"),CheetahProfuseEventsTracking:new i.Cc("cheetah_profuse_events_tracking"),RedditReplacementDuplicationFix:new i.Cc("reddit_replacement_duplication_fix"),RedditNewUseOverlayLayout:new i.Cc("reddit_new_use_overlay_layout"),RedditUseClipboardForCreatePost:new i.Cc("extension_reddit_use_clipboard_for_create_post"),InstagramUseDispatchEventReplacementService:new i.Cc("instagram_use_dispatch_event_replacement_service"),FacebookUseDispatchEventReplacementService:new i.Cc("facebook_use_dispatch_event_replacement_service"),FacebookChatNoDelayBeforeSelection:new i.Cc("facebook_chat_no_delay_before_selection"),PrioritizeLeftNodeAsEndNode:new i.Cc("extension_prioritize_left_node_as_end_node"),SalesforceServiceConsoleReplacementFix:new i.Cc("salesforce_service_console_replacement_fix"),SalesforceFilterEmailThread:new i.Cc("salesforce_filter_email_thread"),SalesforceDetailsTextareaRichReplacementServiceDelay:new i.Cc("salesforce_details_textarea_replacement_service_delay"),StravaReplacementSelectionDelay:new i.Cc("extension_strave_replacement_selection_delay"),SkipParallelAutoFixReplacement:new i.Cc("skip_parallel_autofix_replacement"),AvoidExtraIntegrationControllerInitialization:new i.Cc("extension_avoid_extra_integration_controller_initialization"),OggyOnGOS:new i.Cc("extension_oggy_on_gos","enabled"),UnfixFast570:new i.Cc("extension_unfix_fast_570"),LatticeReplacementDuplicationFix:new i.Cc("lattice_replacement_duplication_fix"),NewSessionEndWithConnectionStats:new i.Cc("new_session_end_with_connection_stats"),GDocsReplacementValidateOnlyFullTextBeforeReplacement:new i.Cc("gdocs_replacement_only_validate_full_text_before_replacement"),GDocsReplacementValidateOnlyFragmentText:new i.Cc("gdocs_replacement_only_validate_fragment_text"),GDocsCachingParserMiddleware:new i.Cc("gdocs_caching_parser_middleware"),OggyIframeWrappers:new i.Cc("extension_oggy_use_iframe_wrappers"),LoadAppActionsFromAppletCdn:new i.Cc("app_actions_applet_cdn_extension"),PerformanceScoreOggy:new i.Cc("performance_score_oggy"),SessionTimeout:new i.Cc("extension_session_timeout"),ConnectorGdocs:new i.Cc("extension_connector_gdocs"),ConnectorNonGdocs:new i.Cc("extension_connector_non_gdocs"),ServiceAvailabilityViewMetrics:new i.Cc("extension_service_availability_view_metrics"),ServiceAvailabilityTypingMetrics:new i.Cc("extension_service_availability_typing_metrics"),CalcGDocsCurrentFocusFieldBasedOnFocusSuggestion:new i.Cc("calc_gdocs_current_focus_field_based_on_focus_suggenstion"),FieldIntegrationManager:new i.Cc("extension_field_integration_manager"),CheetahExecReplacementOnlyWhenItsExists:new i.Cc("extension_cheetah_exec_replacement_only_when_its_exists"),SendChangesToCAPIAfterSequentialApply:new i.Cc("extension_send_changes_to_capi_after_sequential_apply"),GDocsTabSwitchFrequencyTracking:new i.Cc("gdocs_tab_switch_frequency_tracking"),GDocsDoNotKeepSidebarOpenState:new i.Cc("gdocs_do_not_keep_sidebar_open_state"),DatabricksPerformanceMetrics:new i.Cc("extension_databricks_performance_metrics"),PersonalizedInsightsConsentPopup:new i.Cc("extension_personalized_insights_consent_onboarding"),PersonalizedInsightsEmailDomainAndSignature:new i.Cc("extension_personalized_insights_email_domain_and_signature"),DataSharing:new i.Cc("data_sharing_optin"),TrackLevenshteinDistanceForTextCorruption:new i.Cc("extension_track_levenshtein_distance_for_text_corruption"),TrackTextCorruptionDebugProductMetric:new i.Cc("extension_track_text_corruption_debug_product_metric"),TouchTypistInternal:new i.Cc("extension_touch_typist_internal"),TouchTypistRelease:new i.Cc("extension_touchtypist_release"),TouchTypistPartialTrigger:new i.Cc("extension_touchtypist_partial_trigger","enabled"),TouchTypistForcedBufferFlush:new i.Cc("extension_touchtypist_internal_dlp_bypass","enabled"),FetchSkills:new i.Cc("extension_fetch_skills"),GDocsParseSmartChipFragments:new i.Cc("gdocs_parse_smart_chip_fragments"),NewsNowSingleInstantiation:new i.Cc("newsnow_disable_multiple"),CanContainsPrivateFieldsInDocInfo:new i.Cc("extension_can_contains_private_fields_in_doc_info"),CleanupPageMapCanvas2dContext:new i.Cc("cleanup_page_map_canvas_2d"),InProductDiscountSpecialOffer:new i.Cc("extension_in_product_discount_m2_special_offer"),MapImageNodeForRichText:new i.Cc("map_image_node_for_rich_text"),PreventEmptySetContext:new i.Cc("extension_prevent_empty_set_context"),GDocsSendComments:new i.Cc("gdocs_send_comments"),TrackAlertProcessingPerformance:new i.Cc("extension_track_alert_processing_performance"),AlertProcessingOptimization:new i.Cc("extension_alert_processing_optimization"),VBarsInjectionContainerDisplayContents:new i.Cc("vbars_injection_container_display_contents"),CodaUseCSSTransformTranslateForUnderlinePosition:new i.Cc("coda_use_css_transform_translate_for_underline_position"),CodaHideUnderlineWhenAnimated:new i.Cc("coda_hide_underline_when_animated"),CodaIntegrateOuterElementsCloser:new i.Cc("coda_integrate_outer_elements_closer"),CodaHideGbuttonForDocumentTitle:new i.Cc("coda_hide_gbutton_for_document_title"),CodaPositionGbuttonIntoFixedContainer:new i.Cc("coda_position_gbutton_into_fixed_container"),UseRefactoredUpdatePortForBg:new i.Cc("use_refactored_update_port_for_bg"),GDocsSignUpPopupReactToUserState:new i.Cc("extension_gdocs_signup_popup_react_to_user_state"),FullySignedInExperienceInGDocsFeature:new i.Cc("fully_signedin_gdocs_feature"),FullySignedInExperienceViaTone:new i.Cc("fully_signedin_block_inline_cards_via_tone"),GDocsAllowToDetectAssistantInjectionMode:new i.Cc("extension_gdocs_allow_to_detect_assistant_injection_mode"),GDocsDetectSidebarTypeDynamically:new i.Cc("extension_gdocs_detect_sidebar_type_dynamically"),GDocsInviteNudge:new i.Cc("extension_gdocs_invite_nudge"),GDocsShareModalTracking:new i.Cc("extension_gdocs_share_modal_tracking"),AttributesTriggerFieldIntegration:new i.Cc("extension_integration_target_attributes"),OAuthCheckTokenServiceState:new i.Cc("extension_check_oauth_token_service_state"),OAuthTokenServiceStateFallback:new i.Cc("extension_oauth_token_service_state_fallback"),SettingsAccessibilityToggle:new i.Cc("extension_settings_accessibility_toggle"),SnippetsTemplateVariables:new i.Cc("meg_snippets_dynamic_fields"),TrackContainerIdFailures:new i.Cc("extension_track_container_id_failures"),AuthenticationOptionsApi:new i.Cc("authentication_options_api"),UseBlockListToConfigureFieldMinSizeForDefaultIntegrations:new i.Cc("extension_use_block_list_to_configure_field_min_size_for_default_integrations")}},86819:(e,t,n)=>{n.d(t,{S:()=>o});class o{constructor(e,t){this._transport=e,this._api=t,this._disposed=!1,this._sub=this._transport.inbound.subscribe({next:async e=>{try{const t=this._api[e.data.method];if("function"!=typeof t)throw{message:`invalid method name ${String(e.data.method)}`};{const n={clientId:e.clientId},o=await t.call(this._api,n,...e.data.args);this._transport.outbound({clientId:e.clientId,data:{id:e.data.id,res:o}})}}catch(t){this._transport.outbound({clientId:e.clientId,data:{id:e.data.id,err:t}})}}})}dispose(){this._disposed||(this._disposed=!0,this._sub.unsubscribe())}}},31885:(e,t,n)=>{n.d(t,{Z:()=>i});var o=n(81617);function i(e){return o.Ue(Object.entries(e).map((([t,n])=>[t,(t,...o)=>n.apply(e,o)])))}},45246:(e,t,n)=>{if(n.d(t,{BM:()=>p,IG:()=>f,Re:()=>m,Tv:()=>g,VD:()=>w,YN:()=>v,_N:()=>b,a2:()=>C,qw:()=>h}),5526!=n.j)var o=n(64271);if(5526!=n.j)var i=n(44071);if(5526!=n.j)var s=n(29479);if(3075==n.j)var r=n(954);if(3075==n.j)var a=n(59179);if(3075==n.j)var c=n(90572);if(5526!=n.j)var l=n(71497);if(3075==n.j)var d=n(98961);if(3075==n.j)var u=n(88305);if(5526!=n.j)var _=n(48691);function h(e){return(0,o.T)((0,i.R)(e,"focus").pipe((0,s.h)(!0)),(0,i.R)(e,"blur").pipe((0,s.h)(!1)))}function g(e){return e.nodeType===Node.ELEMENT_NODE}function p(e){return e.nodeType===Node.TEXT_NODE}function m(e){return e.nodeType===Node.ELEMENT_NODE&&e instanceof HTMLElement}function f(e,t){return d.x.create(e,{childList:!0,subtree:!0,attributes:!1}).pipe((0,r.O)(null),(0,a.U)((e=>{const n=Object.entries(t).reduce(((e,[t,n])=>({...e,[t]:n()})),{});return Object.values(n).filter(u.fQ).length===Object.keys(n).length?n:null})),(0,c.h)((e=>!!e)))}var w;function b(e,t,n){return o((0,l.Me)(t));function o(t){const n=t.elementFromPoint(e.left,e.top);if(!n)return!1;const o=i(n);if(null!==o)return o;const s=t.elementsFromPoint(e.left,e.top);for(const e of s){if(e===n)continue;const t=i(e);if(null!==t)return t}return!1}function i(e){var i;return!(t!==e&&!t.contains(e))||((null==n?void 0:n(e))?null:!!(null===(i=e.shadowRoot)||void 0===i?void 0:i.elementsFromPoint)&&o(e.shadowRoot))}}function C(e){if(e.endsWith("px")){const t=e.slice(0,-2),n=Number(t);return(0,_.hj)(n)?n:null}return null}function v(e){var t;const n=(null!==(t=e.ownerDocument.defaultView)&&void 0!==t?t:self).getComputedStyle(e).zIndex,o="auto"!==n&&parseInt(n||"0",10)||null;return null!==o?o:e.parentNode&&e.parentNode.nodeType===Node.ELEMENT_NODE?v(e.parentNode):null}!function(e){e[e.Escape=27]="Escape",e[e.Return=13]="Return",e[e.Tab=9]="Tab",e[e.RightArrow=39]="RightArrow",e[e.UpArrow=38]="UpArrow",e[e.DownArrow=40]="DownArrow"}(w||(w={}))},66084:e=>{e.exports={notch:"nQgcx",hidden:"MB55l",peeking:"wYEGR",notchButton:"K9COx"}},62534:e=>{e.exports={dot1:"TkYQ1",dot2:"eYD0k",dot3:"bVTfN",bounce:"rrF24"}},50006:e=>{e.exports={gr_no_print:"dnXmp"}}}]);